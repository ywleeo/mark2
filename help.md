# MARK2 使用指南

MARK2 是一个简洁的 Markdown 阅读编辑器，提供双栏界面和实时预览。

## 🚀 快速开始

### 打开文件
- **打开单个文件**: `Ctrl/Cmd + O`
- **打开文件夹**: `Ctrl/Cmd + Shift + O`
- **命令行启动**: `mark2 file.md` 或拖拽文件到应用图标

### 界面布局
```
┌─────────────┬─────────────────┐
│  文件树      │   内容区域       │
│  (可隐藏)    │  (编辑/预览)     │
└─────────────┴─────────────────┘
```

## ⌨️ 核心快捷键

| 功能 | 快捷键 |
|------|--------|
| 打开文件 | `Ctrl/Cmd + O` |
| 打开文件夹 | `Ctrl/Cmd + Shift + O` |
| 保存文件 | `Ctrl/Cmd + S` |
| 切换侧边栏 | `Ctrl/Cmd + B` |
| 编辑/预览模式 | `Ctrl/Cmd + E` |
| 截图功能 | `Ctrl/Cmd + Shift + C` |
| 设置 | `Ctrl/Cmd + ,` |
| 开发者工具 | `F12` |

## 📝 编辑功能

### 编辑模式
- 点击右上角"编辑"按钮或按 `Ctrl/Cmd + E` 进入编辑模式
- 使用 CodeMirror 6 编辑器，支持语法高亮和自动补全
- 实时保存，修改后自动更新预览

### 预览模式
- 支持完整的 Markdown 语法渲染
- 代码块语法高亮（highlight.js）
- 数学公式、表格、链接等全面支持

## 📁 文件管理

### 文件树操作
- **展开/折叠文件夹**: 点击文件夹图标
- **创建文件**: 右键文件夹 → "新建文件"
- **文件图标**: 彩色图标区分不同文件类型

### 文件监听
- 外部修改文件时自动刷新显示
- 支持多文件同时编辑
- 智能冲突检测和处理

## 🎨 个性化设置

### 主题切换
- 支持浅色/深色主题自动切换
- 跟随系统主题设置

### 字体设置
- 字体家族、大小可调
- 行距、字间距精细控制
- 编辑器和预览区独立设置

## 📸 截图功能

- **快捷键**: `Ctrl/Cmd + Shift + C`
- **功能**: 截取当前文档的完整内容
- **输出**: 自动复制到剪切板，可直接粘贴

## 🔍 搜索功能

- 全文搜索支持正则表达式
- 实时高亮搜索结果
- 跨文件搜索（在文件夹模式下）

## 🔧 高级功能

### 插件系统

MARK2 内置了强大的插件系统，提供多种文档增强功能：

#### 🎯 关键词高亮插件
自动识别并高亮文档中的重要信息：
- **日期识别**: 2024-08-21、2024年12月25日、2024/10/15
- **数字高亮**: 价格 $299、数量 100个、百分比 85%
- **实体识别**: 公司名称、产品名称等关键词

#### ✅ Todo 列表增强
提供美观的任务管理界面：
<!-- notodo-progress -->
- [ ] 已完成的任务（带绿色勾选标记）
- [x] 待完成的任务（带灰色复选框）
- 支持嵌套列表和多级任务

**注意**: Todo 列表的点击切换功能仅在可编辑的本地文件中生效，只读文件中的复选框不可交互。

**插件管理**: 通过菜单"工具 → 插件管理"配置和管理所有插件

### 命令行支持
```bash
# 直接打开文件
mark2 README.md

# 指定文件路径
mark2 /path/to/document.md

# 多文件（选择第一个有效文件）
mark2 file1.md file2.md
```

## 🛠️ 故障排除

### 常见问题
1. **文件无法打开**: 检查文件路径和权限
2. **预览不更新**: 尝试手动刷新（`Ctrl/Cmd + R`）
3. **样式异常**: 重启应用或重置设置

### 日志查看
- 开发模式: `F12` 打开开发者工具查看 Console
- 日志文件: 项目目录下的 `debug.log` 文件

## 💡 使用技巧

1. **快速浏览**: 使用文件树快速切换文档
2. **专注编辑**: `Ctrl/Cmd + B` 隐藏侧边栏获得更大编辑空间
3. **批量处理**: 打开文件夹后可快速浏览和编辑多个文档
4. **跨应用工作**: 截图功能方便将内容分享到其他应用

---

**需要帮助?** 按 `Ctrl/Cmd + ,` 打开设置查看更多选项，或查看菜单栏的"帮助"选项。