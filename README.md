# MARK2

ä¸€ä¸ªåŸºäº Electron çš„ç°ä»£åŒ– Markdown é˜…è¯»å™¨å’Œç¼–è¾‘å™¨ï¼Œæä¾›åŒæ ç•Œé¢ã€å®æ—¶é¢„è§ˆå’Œå¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿã€‚

![demo](assets/demo.png)


## âœ¨ ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ“ **åŒæ¨¡å¼ç¼–è¾‘å™¨**: æ”¯æŒé¢„è§ˆå’Œç¼–è¾‘æ¨¡å¼å®æ—¶åˆ‡æ¢
- ğŸ—‚ï¸ **æ™ºèƒ½æ–‡ä»¶æ ‘**: å·¦ä¾§æ æ–‡ä»¶æµè§ˆå™¨ï¼Œæ”¯æŒæ–‡ä»¶å¤¹å±•å¼€/æŠ˜å 
- ğŸ¨ **ä¸»é¢˜ç³»ç»Ÿ**: å†…ç½®æµ…è‰²å’Œæ·±è‰²ä¸»é¢˜ï¼Œè‡ªåŠ¨é€‚é…ç³»ç»Ÿè®¾ç½®
- ğŸ“± **å¤šæ ‡ç­¾é¡µ**: æ™ºèƒ½æ ‡ç­¾é¡µç®¡ç†ï¼Œæ”¯æŒæ–‡ä»¶å’Œæ–‡ä»¶å¤¹å½’å±
- ğŸ” **å…¨æ–‡æœç´¢**: å¿«é€Ÿæœç´¢æ–‡ä»¶å†…å®¹
- ğŸ’¾ **è‡ªåŠ¨ä¿å­˜**: å®æ—¶æ–‡ä»¶ç›‘å¬ï¼Œè‡ªåŠ¨åŒæ­¥å¤–éƒ¨ä¿®æ”¹

### é«˜çº§åŠŸèƒ½
- ğŸ“¸ **æ™ºèƒ½æˆªå›¾**: åŸºäº html-to-image çš„å…¨é¡µæˆªå›¾ï¼Œ**åŒé‡ä¿å­˜æœºåˆ¶**æ”¯æŒæ–‡ä»¶å¤¹ç²˜è´´
- ğŸ”Œ **æ’ä»¶ç³»ç»Ÿ**: å¯æ‰©å±•çš„æ’ä»¶æ¶æ„ï¼Œæ”¯æŒè‡ªå®šä¹‰åŠŸèƒ½
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: åŸºäº CodeMirror 6 çš„é«˜æ€§èƒ½ç¼–è¾‘å™¨
- ğŸ–±ï¸ **åŸç”Ÿä½“éªŒ**: æ”¯æŒæ–‡ä»¶æ‹–æ‹½ã€ç³»ç»Ÿé›†æˆå’Œé”®ç›˜å¿«æ·é”®
- ğŸ”„ **çŠ¶æ€æ¢å¤**: è‡ªåŠ¨ä¿å­˜å·¥ä½œçŠ¶æ€ï¼Œæ”¯æŒç³»ç»Ÿä¼‘çœ æ¢å¤

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚
- **macOS**: 10.13+ (æ”¯æŒ Intel å’Œ Apple Silicon)
- **Windows**: Windows 10+
- **Linux**: Ubuntu 18.04+

### å®‰è£…æ–¹å¼

#### 1. ä¸‹è½½é¢„æ„å»ºç‰ˆæœ¬
ä» [Releases](../../releases) é¡µé¢ä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…ï¼š
- macOS: `MARK2-1.1.9-arm64.dmg` (Apple Silicon) æˆ– `MARK2-1.1.9.dmg` (Intel)
- Windows: `MARK2-1.1.9.exe`
- Linux: `MARK2-1.1.9.AppImage`

#### 2. ä»æºç æ„å»º
```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd mark2

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# æ„å»ºåº”ç”¨
npm run build
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬æ“ä½œ
```bash
# å¯åŠ¨åº”ç”¨
npm start

# å¼€å‘æ¨¡å¼ï¼ˆåŒ…å«å¼€å‘è€…å·¥å…·ï¼‰
npm run dev

# ç›´æ¥æ‰“å¼€æ–‡ä»¶
npm start README.md
npm start /path/to/file.md
```

### é”®ç›˜å¿«æ·é”®
| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl/Cmd + O` | æ‰“å¼€æ–‡ä»¶ |
| `Ctrl/Cmd + Shift + O` | æ‰“å¼€æ–‡ä»¶å¤¹ |
| `Ctrl/Cmd + S` | ä¿å­˜æ–‡ä»¶ |
| `Ctrl/Cmd + E` | åˆ‡æ¢ç¼–è¾‘/é¢„è§ˆæ¨¡å¼ |
| `Ctrl/Cmd + B` | åˆ‡æ¢ä¾§è¾¹æ  |
| `Ctrl/Cmd + Shift + C` | æˆªå›¾åŠŸèƒ½ |
| `Ctrl/Cmd + ,` | æ‰“å¼€è®¾ç½® |
| `F12` | å¼€å‘è€…å·¥å…· |

## ğŸ”Œ æ’ä»¶ç³»ç»Ÿ

MARK2 æ”¯æŒå¼ºå¤§çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿï¼š

### å†…ç½®æ’ä»¶
- **å…³é”®è¯é«˜äº®**: æ™ºèƒ½è¯†åˆ«æ•°å­—ã€æ—¥æœŸã€å®ä½“å’Œçƒ­è¯
- **Todo åˆ—è¡¨**: ç¾åŒ–çš„ä»»åŠ¡åˆ—è¡¨æ¸²æŸ“
- **æˆªå›¾å·¥å…·**: åŸºäº html-to-image çš„å…¨é¡µæˆªå›¾ï¼Œæ”¯æŒåŒé‡ä¿å­˜æœºåˆ¶

### æ’ä»¶å¼€å‘
```javascript
// plugins/my-plugin/index.js
class MyPlugin extends BasePlugin {
  constructor() {
    super('my-plugin', 'æˆ‘çš„æ’ä»¶', '1.0.0');
    this.patterns = [
      { regex: /ç‰¹å®šæ¨¡å¼/g, className: 'my-highlight' }
    ];
    this.styleConfig = {
      'my-highlight': { backgroundColor: '#yellow' }
    };
  }

  processMarkdown(html) {
    return this.applyPatterns(html);
  }
}
```

### æ’ä»¶å®‰è£…
1. ä¸‹è½½æ’ä»¶ `.zip` æ–‡ä»¶
2. é€šè¿‡èœå• "å·¥å…· â†’ æ’ä»¶ç›®å½•" æ‰“å¼€æ’ä»¶ç›®å½•
3. è§£å‹æ’ä»¶åˆ°ç›®å½•ä¸­
4. é‡å¯åº”ç”¨æˆ–åˆ·æ–°æ’ä»¶åˆ—è¡¨

## ğŸ› ï¸ å¼€å‘

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Electron, CodeMirror 6, HTML/CSS/JavaScript
- **æ„å»º**: electron-builder, @electron/rebuild
- **å›¾åƒå¤„ç†**: html-to-image (å‰ç«¯æˆªå›¾åº“)
- **Markdown**: marked.js, highlight.js

### é¡¹ç›®ç»“æ„
```
mark2/
â”œâ”€â”€ main.js                 # Electron ä¸»è¿›ç¨‹å…¥å£
â”œâ”€â”€ renderer.js             # æ¸²æŸ“è¿›ç¨‹è„šæœ¬
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/               # ä¸»è¿›ç¨‹æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ WindowManager.js
â”‚   â”‚   â”œâ”€â”€ FileManager.js
â”‚   â”‚   â””â”€â”€ IPCHandler.js
â”‚   â””â”€â”€ renderer/           # æ¸²æŸ“è¿›ç¨‹æ¨¡å—
â”‚       â”œâ”€â”€ AppManager.js
â”‚       â”œâ”€â”€ EditorManager.js
â”‚       â””â”€â”€ UIManager.js
â”œâ”€â”€ plugins/                # æ’ä»¶ç³»ç»Ÿ
â”œâ”€â”€ styles/                 # æ ·å¼æ–‡ä»¶
â””â”€â”€ test/                   # æµ‹è¯•æ–‡ä»¶
```

### å¼€å‘å‘½ä»¤
```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# é‡å»ºåŸç”Ÿæ¨¡å—
npm run rebuild

# æ„å»ºåº”ç”¨
npm run build

# æµ‹è¯•ç‰¹å®šåŠŸèƒ½
npm start test/example.md
```

### è°ƒè¯•
- æ‰€æœ‰æ—¥å¿—è‡ªåŠ¨ä¿å­˜åˆ° `debug.log` æ–‡ä»¶
- ä½¿ç”¨ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
- ä¸»è¿›ç¨‹æ—¥å¿—æ˜¾ç¤ºåœ¨ç»ˆç«¯

## ğŸ“¦ æ„å»ºå’Œå‘å¸ƒ

### æ„å»ºé…ç½®
é¡¹ç›®æ”¯æŒå¤šå¹³å°å’Œå¤šæ¶æ„æ„å»ºï¼š

```bash
# æ„å»ºæ‰€æœ‰å¹³å°
npm run build

# ä»…æ„å»ºå½“å‰å¹³å°
npx electron-builder --publish=never
```

### æ„å»ºä¼˜åŒ–
é¡¹ç›®æ„å»ºæ—¶ä¼šï¼š
1. ä¼˜åŒ–èµ„æºæ‰“åŒ…å’Œå‹ç¼©
2. ç¡®ä¿è·¨å¹³å°å…¼å®¹æ€§
3. è‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. ä¾èµ–æ¨¡å—é”™è¯¯
```bash
# æ¸…ç†å¹¶é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules package-lock.json
npm install

# æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬
npm list
```

#### 2. æ„å»ºå¤±è´¥
```bash
# æ£€æŸ¥ Electron ç‰ˆæœ¬å…¼å®¹æ€§
npm list electron

# æ›´æ–°æ„å»ºå·¥å…·
npm update electron-builder @electron/rebuild
```

#### 3. ç³»ç»Ÿä¼‘çœ ååŠŸèƒ½å¼‚å¸¸
åº”ç”¨å†…ç½®äº†ç³»ç»Ÿä¼‘çœ æ¢å¤æœºåˆ¶ï¼Œä¼šè‡ªåŠ¨é‡å»º IPC è¿æ¥ã€‚å¦‚æœé—®é¢˜æŒç»­ï¼Œè¯·é‡å¯åº”ç”¨ã€‚

#### 4. æˆªå›¾æ— æ³•ç²˜è´´ä¸ºæ–‡ä»¶
åº”ç”¨ä½¿ç”¨åŒé‡ä¿å­˜æœºåˆ¶ï¼š
- **å‰ªåˆ‡æ¿æ¨¡å¼**: å›¾åƒæ•°æ®ï¼Œæ”¯æŒåº”ç”¨å†…ç²˜è´´
- **æ–‡ä»¶æ¨¡å¼**: ä¸´æ—¶æ–‡ä»¶ï¼Œæ”¯æŒæ–‡ä»¶ç®¡ç†å™¨ç²˜è´´
- **åŒé‡æ¨¡å¼**: ä¸¤ç§æ–¹å¼åŒæ—¶ä¿å­˜ï¼ˆé»˜è®¤ï¼‰

å¦‚æœæ— æ³•åœ¨æ–‡ä»¶å¤¹ä¸­ç²˜è´´ï¼Œè¯·æ£€æŸ¥ï¼š
- macOS: ç¡®ä¿åœ¨ Finder ä¸­ä½¿ç”¨ `Cmd+V` ç²˜è´´
- ä¸´æ—¶æ–‡ä»¶ä½ç½®: ç³»ç»Ÿä¸´æ—¶ç›®å½•ï¼ˆ24å°æ—¶è‡ªåŠ¨æ¸…ç†ï¼‰
- æƒé™é—®é¢˜: ç¡®ä¿åº”ç”¨æœ‰æ–‡ä»¶å†™å…¥æƒé™

### è·å–å¸®åŠ©
- æŸ¥çœ‹ `debug.log` æ–‡ä»¶è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯
- æŸ¥çœ‹ `MISTAKES.md` äº†è§£å¸¸è§å¼€å‘é™·é˜±
- æäº¤ Issue æ—¶è¯·é™„å¸¦ç³»ç»Ÿä¿¡æ¯å’Œé”™è¯¯æ—¥å¿—

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·å…ˆé˜…è¯» [CLAUDE.md](CLAUDE.md) äº†è§£é¡¹ç›®æ¶æ„å’Œå¼€å‘è§„èŒƒã€‚

### è´¡çŒ®æ­¥éª¤
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

---

<div align="center">
  <p>ç”¨ â¤ï¸ å’Œ â˜• åˆ¶ä½œ</p>
  <p>ä¸“ä¸º Markdown çˆ±å¥½è€…æ‰“é€ çš„ç°ä»£åŒ–ç¼–è¾‘å™¨</p>
</div>